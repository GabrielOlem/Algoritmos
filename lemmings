#include <bits/stdc++.h>
#include <math.h>
using namespace std;
int freq[(int)1e6] = {0};
int main() {
    int a;
    cin >> a;
    for(int k=0; k<a; k++){
        stack<int> pilha;
        int n;
        cin >> n;
        int vet[n], res[n];
        for(int i=0; i<n; i++){
            cin >> vet[i];
            freq[vet[i]]++;
        }
        for(int i=0; i<n; i++){
            cin >> res[i];
        }
        int j = 0;
        int ma = -1;
        int par = 0;
        for(int i=0; i<n; i++){
            while(1){
                if(pilha.size() != 0 && pilha.top() == res[i] && freq[res[i]] == 0){
                    cout << 'Y';
                    par--;
                    pilha.pop();
                    break;
                }
                else{
                    par++;
                    cout << 'O';
                    pilha.push(vet[j]);
                    freq[vet[j]]--;
                }
                j++;
                if(par > ma){
                    ma = par;
                }
            }
        }
        cout << ' ' << ma << endl;
        for(int j=0; j<(int)1e6; j++){
            freq[j] = 0;
        }
    }
	return 0;
}
